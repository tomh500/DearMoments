//MoMot是DearMoments的移动模块定义，这里是MoMot的初始化入口
//MoMot的基础移动使用sq_1ms系列的1~4进行定义，可能存在额外的定义
//其对外暴露的绑定命令是+Momot_bind_forward......
//他们指向另一个命令+Momot_forward......
//对于需要绕过多绑定的，格式一般为+Momot_action_forward.... 以action为中间的词缀注册
//socd_f/b/r/l是用于记录移动状态的，他们将会适用于snaptap功能
//针对CS2的特性，当命令无论多么小 都将视为0，因此可以简易实现

alias NeedSwitchModeJ2K
alias NeedSwitchModeK2J

//提前注册-命令，适应snaptap
alias -socd_press_f -forward;alias -socd_press_b -back;alias -socd_press_r -right;alias -socd_press_l -left

//注册前后左右移动
alias +Momot_action_forward "alias autostop_needtick_cut autostop_needtick_cutcmd;autostop_needtick_active;alias halfstop_rec_forward +halfstop_reccmd_forward;alias needhalfstop_forward halfstop_forward;needhalfstop_back;rec_sensitivity;.autostop_b_disable;+forward;socd_switch_cancel_back;socd_switch_cancel_back;alias +socd_press_f socd_switch_forward;alias antiflash_needback +back;alias Antiflash_recforward recforward_pack;alias sq_1"
alias -Momot_action_forward "autostop_needtick_cut;;alias halfstop_rec_forward;alias needhalfstop_forward;autostop_backlock;needstopback;forward -1009 0 0;autostop_forward_cmd_active;alias +socd_press_f;+socd_press_b;alias antiflash_needback;alias Antiflash_recforward;alias sq_1"
alias +Momot_forward "alias sq_1 +Momot_action_forward"
alias -Momot_forward "alias sq_1 -Momot_action_forward"

alias +Momot_action_back "alias autostop_needtick_cut autostop_needtick_cutcmd;autostop_needtick_active;alias halfstop_rec_back +halfstop_reccmd_back;alias needhalfstop_back halfstop_back;needhalfstop_forward;.autostop_f_disable;+back;socd_switch_cancel_forward;socd_switch_cancel_forward;alias +socd_press_b socd_switch_back;alias antiflash_needforward +forward;alias Antiflash_recforward recback_pack;alias sq_2"
alias -Momot_action_back "autostop_needtick_cut;;alias halfstop_rec_back;alias needhalfstop_back;autostop_forwardlock;needstopforward;back -1009 0 0;autostop_back_cmd_active;alias +socd_press_b;+socd_press_f;alias antiflash_needforward;alias Antiflash_recback;alias sq_2"
alias +Momot_back "alias sq_2 +Momot_action_back"
alias -Momot_back "alias sq_2 -Momot_action_back"

alias +Momot_action_right "alias autostop_needtick_cut autostop_needtick_cutcmd;autostop_needtick_active;alias halfstop_rec_right +halfstop_reccmd_right;alias needhalfstop_right halfstop_right;needhalfstop_left;.autostop_l_disable;+right;socd_switch_cancel_left;socd_switch_cancel_left;alias +socd_press_r socd_switch_right;alias antiflash_needleft +left;alias Antiflash_recright recright_pack;alias sq_3"
alias -Momot_action_right "autostop_needtick_cut;;alias halfstop_rec_right;alias needhalfstop_right;autostop_leftlock;needstopleft;right -1009 0 0;autostop_right_cmd_active;alias +socd_press_r;+socd_press_l;alias antiflash_needleft;alias Antiflash_recright;alias sq_3"
alias +Momot_right "alias sq_3 +Momot_action_right"
alias -Momot_right "alias sq_3 -Momot_action_right"

alias +Momot_action_left "alias autostop_needtick_cut autostop_needtick_cutcmd;autostop_needtick_active;alias halfstop_rec_left +halfstop_reccmd_left;alias needhalfstop_left halfstop_left;needhalfstop_right;.autostop_r_disable;+left;socd_switch_cancel_right;socd_switch_cancel_right;alias +socd_press_l socd_switch_left;alias antiflash_needright +right;alias Antiflash_recleft recleft_pack;alias sq_4"
alias -Momot_action_left "autostop_needtick_cut;;alias halfstop_rec_left;alias needhalfstop_left;autostop_rightlock;needstopright;left -1009 0 0;autostop_left_cmd_active;alias +socd_press_l;+socd_press_r;alias antiflash_needright;alias Antiflash_recleft;alias sq_4"
alias +Momot_left "alias sq_4 +Momot_action_left"
alias -Momot_left "alias sq_4 -Momot_action_left"

//移动反向
alias .Momot_roll ".Momot_rollforward;.Momot_rollback;.Momot_rollright;.Momot_rollleft"
alias .Momot_rollforward "alias +Momot_forward alias sq_2 +Momot_action_back;alias -Momot_forward alias sq_2 -Momot_action_back"
alias .Momot_rollback "alias +Momot_back alias sq_1 +Momot_action_forward;alias -Momot_back alias sq_1 -Momot_action_forward"
alias .Momot_rollright "alias +Momot_right alias sq_4 +Momot_action_left;alias -Momot_right alias sq_4 -Momot_action_left"
alias .Momot_rollleft "alias +Momot_left alias sq_3 +Momot_action_right;alias -Momot_left alias sq_3 -Momot_action_right"

alias .Momot_recovery ".Momot_recoveryfb;.Momot_recoveryrl"
alias .Momot_recoveryfb "alias +Momot_forward alias sq_1 +Momot_action_forward;alias -Momot_forward alias sq_1 -Momot_action_forward;alias +Momot_back alias sq_2 +Momot_action_back;alias -Momot_back alias sq_2 -Momot_action_back;"
alias .Momot_recoveryrl "alias +Momot_right alias sq_3 +Momot_action_right;alias -Momot_right alias sq_3 -Momot_action_right;alias +Momot_left alias sq_4 +Momot_action_left;alias -Momot_left alias sq_4 -Momot_action_left"

exec DearMoments/src/main/Features/Modules/MoMot/spacejump/_init_.cfg
exec DearMoments/src/main/Features/Modules/MoMot/autostop/_init_.cfg

alias +halfstop_reccmd_forward "alias sq_6ms_halfstop_f +halfstop_reccmd_forward_start"
alias +halfstop_reccmd_forward_start "+halfstop_reccmd_forward_1"
alias +halfstop_reccmd_forward_1 "alias +halfstop_reccmd_forward_start +halfstop_reccmd_forward_2"
alias +halfstop_reccmd_forward_2 "+forward;alias sq_6ms_halfstop_f; alias +halfstop_reccmd_forward_start +halfstop_reccmd_forward_1"

alias +halfstop_reccmd_back "alias sq_6ms_halfstop_b +halfstop_reccmd_back_start"
alias +halfstop_reccmd_back_start "+halfstop_reccmd_back_1"
alias +halfstop_reccmd_back_1 "alias +halfstop_reccmd_back_start +halfstop_reccmd_back_2"
alias +halfstop_reccmd_back_2 "+back;alias sq_6ms_halfstop_b; alias +halfstop_reccmd_back_start +halfstop_reccmd_back_1"

alias +halfstop_reccmd_right "alias sq_6ms_halfstop_r +halfstop_reccmd_right_start"
alias +halfstop_reccmd_right_start "+halfstop_reccmd_right_1"
alias +halfstop_reccmd_right_1 "alias +halfstop_reccmd_right_start +halfstop_reccmd_right_2"
alias +halfstop_reccmd_right_2 "+right;alias sq_6ms_halfstop_r; alias +halfstop_reccmd_right_start +halfstop_reccmd_right_1"

alias +halfstop_reccmd_left "alias sq_6ms_halfstop_l +halfstop_reccmd_left_start"
alias +halfstop_reccmd_left_start "+halfstop_reccmd_left_1"
alias +halfstop_reccmd_left_1 "alias +halfstop_reccmd_left_start +halfstop_reccmd_left_2"
alias +halfstop_reccmd_left_2 "+left;alias sq_6ms_halfstop_l; alias +halfstop_reccmd_left_start +halfstop_reccmd_left_1"


alias define_autostop "alias autostop_forward_start autostop_forward_1;alias autostop_back_start autostop_back_1;alias autostop_left_start autostop_left_1;alias autostop_right_start autostop_right_1;"
alias define_halfstop "alias halfstop_forward_start halfstop_forward_1;alias halfstop_back_start halfstop_back_1;alias halfstop_left_start halfstop_left_1;alias halfstop_right_start halfstop_right_1;"
alias undefine_autostop "alias autostop_forward_start ;alias autostop_back_start;alias autostop_left_start;alias autostop_right_start ;"
alias undefine_halfstop "alias halfstop_forward_start ;alias halfstop_back_start;alias halfstop_left_start ;alias halfstop_right_start ;"
alias autostop_needtick_active "alias sq_66ms_autostop_needtick autostop_needtick_start"
alias autostop_needtick_start "autostop_needtick1"
alias autostop_needtick1 "undefine_autostop;echo 开始急停速率计时器;alias autostop_needtick_start autostop_needtick2"
alias autostop_needtick2 "alias autostop_needtick_start autostop_needtick3"
alias autostop_needtick3 "alias autostop_needtick_cut;echo 计时完毕;define_autostop;define_halfstop;alias autostop_needtick_start autostop_needtick1;alias sq_66ms_autostop_needtick;"

alias autostop_needtick_cutcmd "undefine_autostop;echo 计时停止;alias sq_66ms_autostop_needtick;alias autostop_needtick_start autostop_needtick1"